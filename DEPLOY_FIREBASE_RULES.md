# üî• Deploy Firebase Security Rules - ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

## ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å! ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å `0000` ‚Üí `9999` ‡πÅ‡∏•‡πâ‡∏ß
‡∏Ñ‡∏∏‡∏ì**‡∏ï‡πâ‡∏≠‡∏á Deploy Security Rules** ‡πÉ‡∏ô Firebase Console ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ!

---

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Deploy (‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏Ç‡πâ‡∏≤ Firebase Console

1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [https://console.firebase.google.com](https://console.firebase.google.com)
3. Login ‡∏î‡πâ‡∏ß‡∏¢ Google Account ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà Project: **pos-mick-an-petch**
2. ‡∏£‡∏≠‡∏´‡∏ô‡πâ‡∏≤ Dashboard ‡πÇ‡∏´‡∏•‡∏î

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Firestore Database

1. ‡∏î‡∏π‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢
2. ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ **Firestore Database** (‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Build section)
3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Rules

1. ‡∏î‡∏π‡πÅ‡∏ó‡πá‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö **Rules** (‡∏Ç‡πâ‡∏≤‡∏á‡πÜ Data, Indexes, Usage)
3. ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Rules

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 5: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Rules

**‡∏•‡∏ö Rules ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** ‡πÅ‡∏•‡πâ‡∏ß **Paste Rules ‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏µ‡πâ:**

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow authenticated users to read/write documents with code "9999" or "552499"
    // All devices using the same code will see the same data
    match /inventory/{code} {
      allow read, write: if request.auth != null && 
                            (code == "9999" || code == "552499");
    }
    
    match /settings/{code} {
      allow read, write: if request.auth != null && 
                            (code == "9999" || code == "552499");
    }
    
    match /audit/{code} {
      allow read, write: if request.auth != null && 
                            (code == "9999" || code == "552499");
    }
    
    match /counts/{code} {
      allow read, write: if request.auth != null && 
                            (code == "9999" || code == "552499");
    }
  }
}
```

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 6: Publish Rules

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Rules ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡πÑ‡∏°‡πà‡∏°‡∏µ syntax error)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Publish** (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô, ‡∏°‡∏∏‡∏°‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤)
3. ‡∏£‡∏≠ 2-3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
4. ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!

---

## ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Publish ‡πÅ‡∏•‡πâ‡∏ß:
1. ‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "Published" ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ß‡∏•‡∏≤
2. Rules ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `"9999"` ‡πÅ‡∏•‡∏∞ `"552499"`
3. ‡πÑ‡∏°‡πà‡∏°‡∏µ `"0000"` ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ

---

## üéØ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ

### ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (‡πÄ‡∏î‡∏¥‡∏°)
```javascript
(code == "0000" || code == "552499")  // ‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 0000
```

### ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (‡πÉ‡∏´‡∏°‡πà)
```javascript
(code == "9999" || code == "552499")  // ‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 9999 ‚úÖ
```

---

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

‡∏´‡∏•‡∏±‡∏á Deploy Rules ‡πÅ‡∏•‡πâ‡∏ß:

### Firestore Structure
```
Firestore Database
‚îú‚îÄ‚îÄ inventory/
‚îÇ   ‚îú‚îÄ‚îÄ 9999      ‚Üê ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 0000) ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ 552499    ‚Üê ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)
‚îú‚îÄ‚îÄ settings/
‚îÇ   ‚îú‚îÄ‚îÄ 9999      ‚Üê ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ 552499    ‚Üê ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
‚îú‚îÄ‚îÄ audit/
‚îÇ   ‚îú‚îÄ‚îÄ 9999      ‚Üê ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ 552499    ‚Üê ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
‚îî‚îÄ‚îÄ counts/
    ‚îú‚îÄ‚îÄ 9999      ‚Üê ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‚úÖ
    ‚îî‚îÄ‚îÄ 552499    ‚Üê ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
```

---

## üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á Deploy

### Test Login
```
1. ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:5176
2. Login: 9999 (‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà) ‚úÖ
3. ‡∏ï‡πâ‡∏≠‡∏á Login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
4. ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Document "9999"
```

### Test Old Code (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô)
```
1. Login: 0000 (‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Å‡πà‡∏≤)
2. ‚ùå ‡∏ï‡πâ‡∏≠‡∏á Login ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
3. ‡πÅ‡∏™‡∏î‡∏á "‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
```

---

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Document `0000` (‡πÄ‡∏î‡∏¥‡∏°)
- ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Firestore
- ‚ùå ‡πÅ‡∏ï‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Login Code ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô 9999)
- ‚ùå Firebase Rules ‡∏à‡∏∞ Block ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

### ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Firebase Console ‚Üí Firestore Database ‚Üí Data
2. ‡πÄ‡∏õ‡∏¥‡∏î Collection `inventory`
3. ‡∏´‡∏≤ Document `0000`
4. Copy ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Document ‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ `9999`
6. Paste ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üö® Error ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏à‡∏≠

### Error: Permission Denied
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Firebase Rules ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Deploy

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: Deploy Rules ‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô

### Error: Document not found
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Login ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: ‡∏õ‡∏Å‡∏ï‡∏¥ - ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏à‡∏∞ Auto Seed 47 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ

---

## üìù ‡∏™‡∏£‡∏∏‡∏õ Checklist

- [x] ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å 0000 ‚Üí 9999 (‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß)
- [x] ‚úÖ Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß)
- [ ] ‚ö†Ô∏è **Deploy Firebase Rules** (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏ô Console!)
- [ ] üß™ Test Login ‡∏î‡πâ‡∏ß‡∏¢ 9999
- [ ] üéâ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

---

## üéØ Next Steps

1. **Deploy Rules ‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô** ‚¨ÜÔ∏è
2. ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÅ‡∏≠‡∏õ: `http://localhost:5176`
3. Login ‡∏î‡πâ‡∏ß‡∏¢: **9999** (‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà)
4. ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!

---

**Remember**: Firebase Rules ‡∏ï‡πâ‡∏≠‡∏á Deploy ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™! üîí

